taiyaki

in folder:
	o_escherichia_1 (fast5 files, generated by multi_to_single_fast5)
	escherichia_ref.fa (reference genome, extracted by my getReference script)
	
source /mnt/nvme/gitstuff/DNA/taiyaki/venv/bin/activate
generate_per_read_params.py --recursive o_escherichia_1 --output per_read_params.tsv

* just from fasta given by BIO guys
    python createFasta.py o_escherichia_1 (my createFasta script)
    prepare_mapped_reads.py o_escherichia_1/0 per_read_params.tsv output_justfromfasta.hdf5 $taiyaki_path/models/mGru_flipflop_remapping_model_r9_DNA.checkpoint o_escherichia_1.fasta --overwrite
    
* get from ref based on aligned fasta given by BIO guys
    python createFasta.py o_escherichia_1 (my createFasta script)
    minimap2 -ax map-ont escherichia_ref.fa o_escherichia_1.fasta > minimapped.sam
    get_refs_from_sam.py escherichia_ref.fa minimapped.sam --output refsfromsam.fasta
    prepare_mapped_reads.py o_escherichia_1/0 per_read_params.tsv output_createfasta.hdf5 $taiyaki_path/models/mGru_flipflop_remapping_model_r9_DNA.checkpoint refsfromsam.fasta --overwrite
    
* basecall then align to ref and get fasta
    flappie o_escherichia_1/0 > basecalled.fa
    minimap2 -ax map-ont escherichia_ref.fa basecalled.fa > minimapped.sam
    get_refs_from_sam.py escherichia_ref.fa minimapped.sam --output refsfromsam.fasta
    prepare_mapped_reads.py o_escherichia_1/0 per_read_params.tsv output_flappiealigned.hdf5 $taiyaki_path/models/mGru_flipflop_remapping_model_r9_DNA.checkpoint refsfromsam.fasta --overwrite
    
